<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description" content="Emailto chunk.cn at gmail.com"/><title>matlibplot科学绘图 | Chunk</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/highlight.css"/><link rel="stylesheet" type="text/css" href="/css/font.css"/><link rel="stylesheet" type="text/css" href="/css/noise.css"/><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about.html">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/python/">python</a></div><div class="post-time">2018-02-09</div></div></div><div class="container post-header"><h1>matlibplot科学绘图</h1></div><div class="container post-content"><p><em>摘要</em> ：本文主要介绍Matlibplot在python中进行图片输出的操作。其中包括的进阶操作有：使用Latex格式显示公式，输出双坐标图，保存高清晰度的pdf图的方法。</p>
<p>一直想写博客，回馈知识，这次终于可以开始了。</p>
<h2 id="1-基本操作"><a href="#1-基本操作" class="headerlink" title="1. 基本操作"></a>1. 基本操作</h2><p>​    首先，把python中最为常用的两个包导入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pylab <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<p>​    然后，随便生成一个函数，就可以开始画图了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">0</span>,<span class="number">20</span>, <span class="number">0.01</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">plt.plot(y)</span><br></pre></td></tr></table></figure>
<p><img src="https://p3v8zcvlc.bkt.clouddn.com/blog/180209/FkkjHE5Jj7.jpg?imageslim" alt="mark"></p>
<h2 id="2-添加基本图片属性"><a href="#2-添加基本图片属性" class="headerlink" title="2.添加基本图片属性"></a>2.添加基本图片属性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(y, label = <span class="string">"y = sin(x)"</span>, color = <span class="string">"black"</span>, linewidth = <span class="number">2</span>, linestyle = <span class="string">'-.'</span>,)</span><br><span class="line">plt.xlabel(<span class="string">'x axis'</span>)<span class="comment"># make axis labels</span></span><br><span class="line">plt.ylabel(<span class="string">'y axis'</span>)</span><br><span class="line">plt.legend()        <span class="comment"># show the labels</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p3v8zcvlc.bkt.clouddn.com/blog/180209/h05Kc1bHFb.jpg?imageslim" alt="mark"></p>
<p><strong><em>color</em></strong> 的可选项: ‘b’ blue, ‘g’ green, ‘r’ red, ‘c’ cyan, ‘m’ magenta, ‘y’ yellow, ‘k’ black, ‘w’ white.<br><strong><em>linestyle</em></strong> 的可选项:   <code>&#39;-&#39;</code> solid line style, <code>&#39;--&#39;</code>      dashed line style, <code>&#39;-.&#39;</code>  dash-dot line style, <code>&#39;:&#39;</code>            dotted line style.</p>
<h2 id="3-label的进阶用法"><a href="#3-label的进阶用法" class="headerlink" title="3.label的进阶用法"></a>3.label的进阶用法</h2><p>lable属性其实有很大的灵活性，包括变量显示，和公式输出。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = np.sin(x)+np.exp(x/<span class="number">10</span>)</span><br><span class="line">plt.plot(y, label = <span class="string">r"$y= \sin(x)+ e^\frac&#123;x&#125;&#123;10&#125;$"</span>, color = <span class="string">"black"</span>, linewidth = <span class="number">2</span>, linestyle = <span class="string">'-.'</span>,)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://p3v8zcvlc.bkt.clouddn.com/blog/180209/3GD7mD5fL2.jpg?imageslim" alt="mark"><br>这时候如果有人熟悉Latex的话可以看出来可以看到在label的表达式前添加了r前缀，绘图时就会将$$符之间的这段Latex代码变为公式。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="number">10</span></span><br><span class="line">y = np.sin(x)+np.exp(x/b)</span><br><span class="line">plt.plot(y, label = <span class="string">r"$y= \sin(x)+ e^\frac&#123;x&#125;&#123;%d&#125;$"</span> % b, color = <span class="string">"black"</span>, linewidth = <span class="number">2</span>, linestyle = <span class="string">'-.'</span>,)</span><br></pre></td></tr></table></figure></p>
<p>这段代码生成结果和前面一致，可以看到此处使用了变量显示的功能，还有很多可调操作符， 比如%.4f表示显示到小数点后四位。 </p>
<h2 id="4-双坐标图"><a href="#4-双坐标图" class="headerlink" title="4.双坐标图"></a>4.双坐标图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pylab <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">0</span>,<span class="number">20</span>, <span class="number">0.01</span>)</span><br><span class="line">y = np.sin(x)+np.exp(x/<span class="number">10</span>)</span><br><span class="line">z = np.sin(x)+<span class="number">5</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line"></span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(y, <span class="string">'g'</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">r'$y= \sin(x)+ e^\frac&#123;x&#125;&#123;10&#125;$'</span>)</span><br><span class="line">ax1.set_title(<span class="string">"Double Y axis"</span>)</span><br><span class="line">ax2 = ax1.twinx()  <span class="comment"># this is the important function</span></span><br><span class="line">ax2.plot(z, <span class="string">'r'</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">r'$y= \sin(x)+ 5$'</span>)</span><br><span class="line"></span><br><span class="line">fig = plt.gcf()</span><br><span class="line">plt.show()</span><br><span class="line">fig.savefig(<span class="string">'sample.jpg'</span>, dpi=<span class="number">600</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://p3v8zcvlc.bkt.clouddn.com/blog/180209/iH592LJCA4.jpg?imageslim" alt="mark"></p>
<h2 id="5-生成高清晰度的图片"><a href="#5-生成高清晰度的图片" class="headerlink" title="5 生成高清晰度的图片"></a>5 生成高清晰度的图片</h2><p>直接由命令行输出的图片清晰度比较低。进行文件排版的时候不美观。这里给出一个python主动生成图片的方法。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.gcf()</span><br><span class="line">plt.show()</span><br><span class="line">fig.savefig(<span class="string">'sample.jpg'</span>, dpi=<span class="number">600</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong><em>注意</em></strong>：这里的代码顺序非常重要，一定要在show函数之前，使用gcf函数，类似于保存图片的句柄，然后savefig。因为，python会在show之后，将图片空间释放，导致保存的图片空白。<br>这里格式后很多选择，如果使用Latex进行论文排版，建议使用pdf格式，嵌入pdf文件效果很好。</p>
<p>问题反馈：目前本博客尚未开通留言，本人刚刚熟悉python，如果有内容中不妥地方，欢迎联系左下方邮箱斧正，免误人子弟！谢谢！</p>
<p><strong><em>*下期</em></strong>：下一篇博客打算写python中numpy的broadcast机制，希望自己能继续坚持。</p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'chunkcn';
var disqus_identifier = 'Matlibplot科学绘图/';
var disqus_title = 'matlibplot科学绘图';
var disqus_url = 'https://wangxuchuang.com/Matlibplot科学绘图/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"/><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-116724859-1');ga('send','pageview');</script></body></html>